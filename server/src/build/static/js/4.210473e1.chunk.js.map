{"version":3,"sources":["utils/firstCharacterOfEachString.js","pages/todaywhooffer/index.js","utils/capitalizeFirstLetter.js","components/Breadcrumb/index.js","hooks/useCRUDApi.js","dto/invitation.js","components/MyBackdrop/index.js"],"names":["formatNameWithMaterial","name","split","map","element","join","slice","useStyles","makeStyles","theme","breadcrumb","padding","spacing","content","marginTop","root","display","search","position","borderRadius","shape","backgroundColor","marginBottom","width","breakpoints","up","searchIcon","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","media","backdrop","zIndex","drawer","TodayWhoOffer","classes","t","useTranslation","main","useCustomTheme","useTheme","pathname","useLocation","push","useHistory","useCRUDApi","variable","url","params","isPublic","sortBy","responseDTO","invitationsResponse","data","loadingInvitation","loading","refreshInvitation","refresh","socketOn","useSocket","useState","setLoading","a","id","token","localStorage","getItem","axios","post","headers","Authorization","response","message","request","useEffect","console","log","className","Breadcrumb","basename","path","InputBase","placeholder","input","inputProps","onClick","style","paddingTop","Grid","container","i","key","item","xs","sm","md","Card","CardMedia","image","title","CardHeader","flex","alignSelf","avatar","Avatar","aria-label","palette","getContrastText","src","Typography","capitalizeFirstLetter","invitor","username","action","IconButton","handleJoinInvitation","reason","subheader","moment","createdAt","format","MyBackdrop","open","string","charAt","toUpperCase","toLowerCase","BreadCrumbs","formatLast","pathList","capitalize","length","to","textDecoration","cache","skip","config","setData","error","setError","refreshIndex","setRefreshIndex","api","baseURL","timeout","cancelled","get","transformResponse","JSON","parse","then","r","catch","finally","fetchDate","onGet","Promise","resolve","reject","status","onPost","transformRequest","requestDTO","defaults","onPut","put","onPatch","patch","onDelete","delete","invitationRequest","rest","_id","invitationResponse"],"mappings":"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","file":"static/js/4.210473e1.chunk.js","sourcesContent":["export const firstCharacterOfEachString = (name = '') =>\n  name\n    .split(' ')\n    .map(element => element[0])\n    .join('')\n\nexport const formatNameWithMaterial = (name = '') =>\n  name\n    .split(' ')\n    .map(element => element[0])\n    .join('')\n    .slice(0, 3)\n","import React, { useState, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/styles'\nimport {\n  Grid,\n  Card,\n  CardHeader,\n  Avatar,\n  IconButton,\n  CardMedia,\n  InputBase,\n  Typography,\n  useTheme\n} from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport RoomServiceOutlinedIcon from '@material-ui/icons/RoomServiceOutlined'\nimport { useTranslation } from 'react-i18next'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport moment from 'moment'\nimport axios from 'axios'\n\nimport Breadcrumb from '../../components/Breadcrumb'\nimport { useCustomTheme } from '../../context/useCustomTheme'\nimport { formatNameWithMaterial } from '../../utils/firstCharacterOfEachString'\nimport { capitalizeFirstLetter } from '../../utils/capitalizeFirstLetter'\nimport { invitationsResponse } from '../../dto/invitation'\nimport { variable } from '../../constants'\nimport { useCRUDApi } from '../../hooks/useCRUDApi'\nimport MyBackdrop from '../../components/MyBackdrop'\nimport { useSocket } from '../../context/useSocket'\n\nconst useStyles = makeStyles((theme) => ({\n  breadcrumb: {\n    padding: theme.spacing(1)\n  },\n  content: {\n    marginTop: theme.spacing(2)\n  },\n  root: {\n    display: 'flex'\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    // backgroundColor: fade(theme.colors.white, 0.15),\n    backgroundColor: 'rgba(255, 255, 255, 0.15)',\n    '&:hover': {\n      // backgroundColor: fade(theme.palette.common.white, 0.25),\n      backgroundColor: 'rgba(255, 255, 255, 0.25)'\n    },\n    marginBottom: theme.spacing(1),\n    // marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      // marginLeft: theme.spacing(3),\n      width: 'auto'\n    }\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  inputRoot: {\n    color: 'inherit'\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: '20ch'\n    }\n  },\n  media: {\n    width: 100,\n    height: 100\n    // paddingTop: '56.25%', // 16:9\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff'\n  }\n}))\n\n// const listoffer = [\n//   {\n//     coupon: 'ZHW2O9',\n//     name: 'S1',\n//     reason: 'Lanh luong',\n//     status: 'unpublish',\n//     image:\n//       'https://cafefcdn.com/thumb_w/650/2019/7/7/phuc-long-mo-2-chi-nhanh-o-hang-dieu-va-vincom-lam-fan-ha-noi-dung-ngoi-khong-yen-b488c401636887600391620970-1562468064186162036512-crop-15625496664651414098330.jpg',\n//     avatar:\n//       'https://gamek.mediacdn.vn/k:2015/11-1441712323241/hot-girl-thich-choi-dota-2-gay-sot-cong-dong-game-thu-viet.jpg'\n//   },\n//   {\n//     coupon: 'ZHW123',\n//     name: 'S2',\n//     reason: 'Hu roi',\n//     status: 'locked',\n//     image:\n//       'https://cafefcdn.com/thumb_w/650/2019/7/7/phuc-long-mo-2-chi-nhanh-o-hang-dieu-va-vincom-lam-fan-ha-noi-dung-ngoi-khong-yen-b488c401636887600391620970-1562468064186162036512-crop-15625496664651414098330.jpg',\n//     avatar: 'https://file.tinnhac.com/resize/600x-/2016/08/03/IU2-ff31.jpg'\n//   },\n//   {\n//     coupon: '10ZH32',\n//     name: 'Trinh Chin Chin Chin',\n//     reason: 'Chin moi nuoc',\n//     status: 'published',\n//     image:\n//       'https://images.foody.vn/res/g97/966583/prof/s1242x600/foody-upload-api-foody-mobile-28168540_15906390443-191009142526.jpg'\n//   },\n//   {\n//     coupon: 'ZMAW1K',\n//     name: 'Trinh Chin Chin Chin',\n//     reason: 'Chin thich moi',\n//     status: 'complete',\n//     image:\n//       'https://images.foody.vn/res/g97/966583/prof/s1242x600/foody-upload-api-foody-mobile-28168540_15906390443-191009142526.jpg'\n//   }\n// ]\n\nconst breadcrumb = 'src.pages.todaywhooffer'\n\nexport default function TodayWhoOffer() {\n  const classes = useStyles()\n  const { t } = useTranslation()\n  const { main } = useCustomTheme()\n  const theme = useTheme()\n  const { pathname } = useLocation()\n  let { push } = useHistory()\n  let {\n    data,\n    loading: loadingInvitation,\n    refresh: refreshInvitation\n  } = useCRUDApi(`${variable.url}/invitations`, null, {\n    params: { isPublic: true, sortBy: '-createdAt' },\n    responseDTO: invitationsResponse\n  })\n  const { socketOn } = useSocket()\n\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    socketOn('onChangeInvitation', (data) => {\n      if (data) {\n        console.log('true')\n        refreshInvitation()\n      }\n      console.log('false')\n    })\n  }, [])\n\n  async function handleJoinInvitation(element) {\n    const { id } = element\n    const token = localStorage.getItem('access-token')\n    setLoading(true)\n    try {\n      const response = await axios.post(\n        `${variable.url}/invitations/${id}/join`,\n        data,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }\n      )\n\n      if (response.data) {\n        setLoading(false)\n        push(`/order/${id}`)\n\n        // enqueueSnackbar('Successful', {\n        //   variant: VariantEnum.SUCCESS,\n        //   action: (key) => (\n        //     <IconButton\n        //       type=\"submit\"\n        //       className={classes.iconButton}\n        //       aria-label=\"search\"\n        //       onClick={() => closeSnackbar(key)}\n        //     >\n        //       <CloseIcon style={{ color: '#fff' }} />\n        //     </IconButton>\n        //   )\n        // })\n      }\n\n      return response.data\n    } catch (error) {\n      setLoading(false)\n      // console.log(error)\n      if (error.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        // console.log('Response', error.response.data)\n        // console.log(error.response.status)\n        // console.log(error.response.headers)\n\n        if (error.response.data.message === 'You joined') {\n          push(`/order/${id}`)\n        }\n        // enqueueSnackbar(error.response.data.message, {\n        //   variant: VariantEnum.ERROR,\n        //   action: (key) => (\n        //     <IconButton\n        //       type=\"submit\"\n        //       className={classes.iconButton}\n        //       aria-label=\"search\"\n        //       onClick={() => closeSnackbar(key)}\n        //     >\n        //       <CloseIcon style={{ color: '#fff' }} />\n        //     </IconButton>\n        //   )\n        // })\n      } else if (error.request) {\n        // The request was made but no response was received\n        // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n        // http.ClientRequest in node.js\n        // console.log('Request', error.request)\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        // console.log('Message', error.message)\n      }\n      // console.log('Config', error.config)\n    }\n  }\n\n  return (\n    <div>\n      <div className={classes.breadcrumb}>\n        <Breadcrumb basename=\"Dashboard\" path={pathname} />\n      </div>\n\n      <div className={classes.content}>\n        <div className={classes.search}>\n          <div className={classes.searchIcon}>\n            <SearchIcon />\n          </div>\n          <InputBase\n            placeholder={t(`${breadcrumb}.Coupon`)}\n            classes={{\n              root: classes.inputRoot,\n              input: classes.inputInput\n            }}\n            inputProps={{ 'aria-label': 'search' }}\n          />\n        </div>\n\n        <button\n          onClick={() => {\n            refreshInvitation()\n          }}\n        >\n          refersh\n        </button>\n\n        <div style={{ display: 'flex', paddingTop: 10 }}>\n          <Grid container spacing={3}>\n            {data?.map((element, i) => (\n              <Grid key={i} item xs={12} sm={6} md={4}>\n                <Card style={{ display: 'flex' }}>\n                  <CardMedia\n                    className={classes.media}\n                    image={element.image}\n                    title=\"Paella dish\"\n                  />\n                  <CardHeader\n                    style={{\n                      flex: 1,\n                      justifyContent: 'space-between',\n                      alignSelf: 'center'\n                    }}\n                    avatar={\n                      <Avatar\n                        aria-label=\"recipe\"\n                        style={{\n                          color: theme.palette.getContrastText(main)\n                          // backgroundColor: main\n                        }}\n                        src={element.avatar}\n                      >\n                        <Typography>\n                          {formatNameWithMaterial(\n                            capitalizeFirstLetter(element.invitor.username)\n                          )}\n                        </Typography>\n                      </Avatar>\n                    }\n                    action={\n                      <IconButton\n                        aria-label=\"settings\"\n                        style={\n                          {\n                            // color: main\n                          }\n                        }\n                        onClick={() => handleJoinInvitation(element)}\n                      >\n                        <RoomServiceOutlinedIcon />\n                      </IconButton>\n                    }\n                    title={element.reason}\n                    subheader={moment(element.createdAt).format(\n                      'HH:mm DD/MM/YYYY'\n                    )}\n                  />\n                </Card>\n              </Grid>\n            ))}\n          </Grid>\n        </div>\n      </div>\n      <MyBackdrop open={loadingInvitation || loading} />\n      {/* <Backdrop\n        className={classes.backdrop}\n        open={loadingInvitation || loading}\n      >\n        <CircularProgress color=\"inherit\" />\n      </Backdrop> */}\n    </div>\n  )\n}\n","export const capitalizeFirstLetter = (string = '') =>\n  string.charAt(0).toUpperCase() + string.slice(1).toLowerCase()\n","import React from 'react'\nimport Typography from '@material-ui/core/Typography'\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs'\nimport { Link } from 'react-router-dom'\nimport { useTranslation } from 'react-i18next'\n\nimport { capitalizeFirstLetter } from '../../utils/capitalizeFirstLetter'\n\nexport default function BreadCrumbs({\n  basename = '',\n  path = '',\n  formatLast = false\n}) {\n  const { t } = useTranslation()\n\n  const pathList = `${basename}${path}`.split('/')\n\n  return (\n    <Breadcrumbs aria-label=\"breadcrumb\">\n      {pathList.map((element, i) => {\n        const capitalize = capitalizeFirstLetter(element)\n        if (i === pathList.length - 1) {\n          return (\n            <Typography key={i} color=\"textPrimary\">\n              {formatLast\n                ? capitalize\n                : t(`src.components.Breadcrumb.${capitalize}`)}\n            </Typography>\n          )\n        }\n        return (\n          <Link\n            key={i}\n            to={`/${element}`}\n            style={{\n              color: 'inherit',\n              textDecoration: 'none'\n            }}\n          >\n            {t(`src.components.Breadcrumb.${capitalize}`)}\n          </Link>\n        )\n      })}\n    </Breadcrumbs>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nconst cache = {}\n\nexport function useCRUDApi(url, skip, config) {\n  const [data, setData] = useState([])\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState()\n  const [refreshIndex, setRefreshIndex] = useState(0)\n\n  const token = localStorage.getItem('access-token')\n\n  const api = axios.create({\n    baseURL: url,\n    timeout: 5000,\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  })\n\n  const refresh = () => {\n    console.log('REFRESH:')\n    delete cache[url]\n    setRefreshIndex(refreshIndex + 1)\n  }\n\n  useEffect(() => {\n    let cancelled = false\n    if (skip) {\n      setData(null)\n      setLoading(false)\n    } else {\n      const fetchDate = async () => {\n        setLoading(true)\n        if (cache[url]) {\n          const data = cache[url]\n          setData(data)\n          setLoading(false)\n        } else {\n          api\n            .get('/', {\n              ...config,\n              transformResponse: [\n                (data) => config.responseDTO(JSON.parse(data))\n              ]\n            })\n            .then((r) => {\n              if (!cancelled) {\n                // console.log(r.data)\n                // cache[url] = r.data // set response in cache;\n                setData(r.data)\n              }\n            })\n            .catch((error) => {\n              if (error.response) {\n                setError(error.response?.data)\n              } else {\n                setError(error.message)\n              }\n            })\n            .finally(() => setLoading(false))\n        }\n      }\n\n      fetchDate()\n    }\n    return () => {\n      cancelled = true\n    }\n  }, [skip, refreshIndex])\n\n  const onPost = (params, config) => {\n    console.log('POST:')\n    setLoading(true)\n    api\n      .post(url, params, {\n        ...config,\n        transformRequest: [\n          (data, headers) => {\n            // modify data here\n            return config.requestDTO(data)\n          },\n          ...api.defaults.transformRequest\n        ]\n      })\n      .then((r) => {\n        if (r.status === 201) {\n          refresh()\n        }\n      })\n      .catch((error) => {\n        if (error.response) {\n          setError(error.response?.data)\n        } else {\n          setError(error.message)\n        }\n      })\n      .finally(() => setLoading(false))\n  }\n\n  const onGet = (id) => {\n    console.log('GET:')\n    setLoading(true)\n    return new Promise((resolve, reject) => {\n      api\n        .get(`/${id}`)\n        .then((r) => {\n          if (r.status === 200) {\n            resolve(r.data)\n          }\n        })\n        .catch((error) => {\n          reject(error.response?.data)\n        })\n        .finally(() => setLoading(false))\n    })\n  }\n\n  const onPut = (id, params) => {\n    console.log('PUT:')\n    setLoading(true)\n    api\n      .put(`/${id}`, params)\n      .then((r) => {\n        if (r.status === 200) {\n          refresh()\n        }\n      })\n      .catch((error) => {\n        if (error.response) {\n          setError(error.response?.data)\n        } else {\n          setError(error.message)\n        }\n      })\n      .finally(() => setLoading(false))\n  }\n\n  const onPatch = (id, params) => {\n    console.log('PATCH:')\n    setLoading(true)\n    api\n      .patch(`/${id}`, params)\n      .then((r) => {\n        if (r.status === 200) {\n          refresh()\n        }\n      })\n      .catch((error) => {\n        if (error.response) {\n          setError(error.response?.data)\n        } else {\n          setError(error.message)\n        }\n      })\n      .finally(() => setLoading(false))\n  }\n\n  const onDelete = (id) => {\n    console.log('DELETE:')\n    setLoading(true)\n    api\n      .delete(`/${id}`)\n      .then((r) => {\n        if (r.status === 200) {\n          refresh()\n        }\n      })\n      .catch((error) => {\n        if (error.response) {\n          setError(error.response?.data)\n        } else {\n          setError(error.message)\n        }\n      })\n      .finally(() => setLoading(false))\n  }\n\n  return {\n    data,\n    setData,\n    loading,\n    error,\n    refresh,\n    onGet,\n    onPost,\n    onPut,\n    onPatch,\n    onDelete\n  }\n}\n","export const invitationRequest = (data = {}) => {\n  const { id, isPublic, ...rest } = data\n  return { id, isPublic, ...rest }\n}\n\nexport const invitationResponse = (data = {}) => {\n  const { _id, isPublic, ...rest } = data\n  return { id: _id, isPublic, ...rest }\n}\n\nexport const invitationsResponse = (data = {}) => {\n  return data.map((element) => invitationResponse(element))\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core'\nimport Backdrop from '@material-ui/core/Backdrop'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff'\n  }\n}))\n\nexport default function MyBackdrop({ open = false }) {\n  const classes = useStyles()\n\n  return (\n    <Backdrop className={classes.backdrop} open={open}>\n      <CircularProgress color=\"inherit\" />\n    </Backdrop>\n  )\n}\n"],"sourceRoot":""}